pkgname=signal-desktop-bin
pkgver=7.81.0
pkgrel=1
pkgdesc="Signal Private Messenger (official binary release repack)"
arch=('x86_64')
url="https://signal.org"
license=('AGPL-3.0-only')
depends=(
  'alsa-lib'
  'gcc-libs'
  'glibc'
  'gtk3'
  'libappindicator-gtk3'
  'libdbusmenu-gtk3'
  'libnotify'
  'libpulse'
  'libsecret'
  'libx11'
  'libxss'
  'libxtst'
  'mesa'
  'nss'
  'xdg-utils'
)
provides=('signal-desktop')
conflicts=('signal-desktop')
source=("https://updates.signal.org/desktop/apt/pool/s/signal-desktop/signal-desktop_${pkgver}_amd64.deb")
noextract=(signal-desktop_${pkgver}_amd64.deb)
sha512sums=('92e45619fc3636c081808399b856d52db71acedaad951bfbfa6911e3d5717a348fdd49ce2aa68e9bc5247091c51e3f5433008f79bca2d96c89049eac0752b44a')

package() {
  bsdtar -xOf "${noextract[0]}" data.tar.xz | tar -xJf - -C "$pkgdir"
}
